#define _GNU_SOURCE
#define GNULIB_NAMESPACE
#define HAVE_GETUID
#define HAVE_GETEUID
#define HAVE_GETGID
#define HAVE_PTHREAD_MUTEXATTR_INIT
#include <dlfcn.h>
#include <unistd.h>
#include <sys/types.h>
#include <stdbool.h>
#include "/usr/include/time.h"
#include <pthread.h>
#include <dirent.h>
#include <stdio.h>
#include <wchar.h>
#include <libintl.h>

int sigemptyset(sigset_t * set)
{
	static int (*real_sigemptyset)(sigset_t *) = NULL;
	int i;
	for(i=0; i<40; i++)
		asm("nop;");
	if(!real_sigemptyset)
		real_sigemptyset = dlsym(RTLD_NEXT, "sigemptyset");
	return real_sigemptyset(set);
}

char *bindtextdomain(const char * domainname, const char * dirname)
{
	static char * (*real_bindtextdomain)(const char *, const char *) = NULL;
	int i;
	for(i=0; i<49; i++)
		asm("nop;");
	if(!real_bindtextdomain)
		real_bindtextdomain = dlsym(RTLD_NEXT, "bindtextdomain");
	return real_bindtextdomain(domainname, dirname);
}
