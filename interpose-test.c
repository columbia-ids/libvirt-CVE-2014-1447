#define _GNU_SOURCE
#define GNULIB_NAMESPACE
#define HAVE_GETUID
#define HAVE_GETEUID
#define HAVE_GETGID
#define HAVE_PTHREAD_MUTEXATTR_INIT
#include <dlfcn.h>
#include <unistd.h>
#include <sys/types.h>
#include <stdbool.h>
#include "/usr/include/time.h"
#include <pthread.h>
#include <dirent.h>
#include <stdio.h>
#include <wchar.h>
#include <libintl.h>

void *memchr(const void * s, int c, size_t n)
{
	static void * (*real_memchr)(const void *, int, size_t) = NULL;
	int i;
	for(i=0; i<16; i++)
		asm("nop;");
	if(!real_memchr)
		real_memchr = dlsym(RTLD_NEXT, "memchr");
	return real_memchr(s, c, n);
}

char *strchr(const char * s, int c)
{
	static char * (*real_strchr)(const char *, int) = NULL;
	int i;
	for(i=0; i<12; i++)
		asm("nop;");
	if(!real_strchr)
		real_strchr = dlsym(RTLD_NEXT, "strchr");
	return real_strchr(s, c);
}

size_t strcspn(const char * s1, const char * s2)
{
	static size_t (*real_strcspn)(const char *, const char *) = NULL;
	int i;
	for(i=0; i<0; i++)
		asm("nop;");
	if(!real_strcspn)
		real_strcspn = dlsym(RTLD_NEXT, "strcspn");
	return real_strcspn(s1, s2);
}

char *strpbrk(const char * s1, const char * s2)
{
	static char * (*real_strpbrk)(const char *, const char *) = NULL;
	int i;
	for(i=0; i<2; i++)
		asm("nop;");
	if(!real_strpbrk)
		real_strpbrk = dlsym(RTLD_NEXT, "strpbrk");
	return real_strpbrk(s1, s2);
}

char *strrchr(const char * s, int c)
{
	static char * (*real_strrchr)(const char *, int) = NULL;
	int i;
	for(i=0; i<32; i++)
		asm("nop;");
	if(!real_strrchr)
		real_strrchr = dlsym(RTLD_NEXT, "strrchr");
	return real_strrchr(s, c);
}

char *strstr(const char * s1, const char * s2)
{
	static char * (*real_strstr)(const char *, const char *) = NULL;
	int i;
	for(i=0; i<4; i++)
		asm("nop;");
	if(!real_strstr)
		real_strstr = dlsym(RTLD_NEXT, "strstr");
	return real_strstr(s1, s2);
}

void *memset(void * s, int c, size_t n)
{
	static void * (*real_memset)(void *, int, size_t) = NULL;
	int i;
	for(i=0; i<21; i++)
		asm("nop;");
	if(!real_memset)
		real_memset = dlsym(RTLD_NEXT, "memset");
	return real_memset(s, c, n);
}

size_t strlen(const char * s)
{
	static size_t (*real_strlen)(const char *) = NULL;
	int i;
	for(i=0; i<0; i++)
		asm("nop;");
	if(!real_strlen)
		real_strlen = dlsym(RTLD_NEXT, "strlen");
	return real_strlen(s);
}

size_t strnlen(const char * s, size_t maxsize)
{
	static size_t (*real_strnlen)(const char *, size_t) = NULL;
	int i;
	for(i=0; i<50; i++)
		asm("nop;");
	if(!real_strnlen)
		real_strnlen = dlsym(RTLD_NEXT, "strnlen");
	return real_strnlen(s, maxsize);
}

int wctob(wint_t c)
{
	static int (*real_wctob)(wint_t) = NULL;
	int i;
	for(i=0; i<23; i++)
		asm("nop;");
	if(!real_wctob)
		real_wctob = dlsym(RTLD_NEXT, "wctob");
	return real_wctob(c);
}

size_t mbrtowc(wchar_t * pwc, const char * s, size_t n, mbstate_t * ps)
{
	static size_t (*real_mbrtowc)(wchar_t *, const char *, size_t, mbstate_t *) = NULL;
	int i;
	for(i=0; i<2; i++)
		asm("nop;");
	if(!real_mbrtowc)
		real_mbrtowc = dlsym(RTLD_NEXT, "mbrtowc");
	return real_mbrtowc(pwc, s, n, ps);
}

size_t wcrtomb(char * s, wchar_t wc, mbstate_t * ps)
{
	static size_t (*real_wcrtomb)(char *, wchar_t, mbstate_t *) = NULL;
	int i;
	for(i=0; i<3; i++)
		asm("nop;");
	if(!real_wcrtomb)
		real_wcrtomb = dlsym(RTLD_NEXT, "wcrtomb");
	return real_wcrtomb(s, wc, ps);
}
