#define _GNU_SOURCE
#define GNULIB_NAMESPACE
#define HAVE_GETUID
#define HAVE_GETEUID
#define HAVE_GETGID
#define HAVE_PTHREAD_MUTEXATTR_INIT
#include <dlfcn.h>
#include <unistd.h>
#include <sys/types.h>
#include <stdbool.h>
#include <sys/time.h>
#include <pthread.h>
#include <dirent.h>
#include <stdio.h>
#include <wchar.h>
#include <libintl.h>
#include <signal.h>

int fcntl(int fd, int cmd)
{
	static int (*real_fcntl)(int, int) = NULL;
	int i;
	for(i=0; i<22; i++)
		asm("nop;");
	if(!real_fcntl)
		real_fcntl = dlsym(RTLD_NEXT, "fcntl");
	return real_fcntl(fd, cmd);
}

int sigaction(int sig, const struct sigaction * act, struct sigaction * oact)
{
	static int (*real_sigaction)(int, const struct sigaction *, struct sigaction *) = NULL;
	int i;
	for(i=0; i<0; i++)
		asm("nop;");
	if(!real_sigaction)
		real_sigaction = dlsym(RTLD_NEXT, "sigaction");
	return real_sigaction(sig, act, oact);
}
