#!/usr/bin/env python

import subprocess, numpy, time

count=0
#delay=float(0)
for i in range(10000):
	try:
		#print delay
		#print subprocess.check_output(['./bug.sh', str(delay)], stderr=subprocess.STDOUT)
		print subprocess.check_output('./bug.sh', stderr=subprocess.STDOUT)
		#delay = numpy.nextafter(delay, 1)
	except subprocess.CalledProcessError as e:
		print e.output
		break
	#time.sleep(2)
	#delay += 1e-4
	count += 1
print str(count) + ' runs until failure.'
